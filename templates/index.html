<!DOCTYPE html>
<html>
<head>
    <title>Rep Counter</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/main.css') }}">
    <script>
        function showExerciseDemo() {
            var exercise = document.getElementById("exercise").value;
            var videos = document.getElementsByClassName("demo-video");

            for (var i = 0; i < videos.length; i++) {
                if (videos[i].id === exercise + "-video") {
                    videos[i].style.display = "block";
                } else {
                    videos[i].style.display = "none";
                }
            }
        }

        // Show exercise demo initially if already selected
        window.addEventListener('DOMContentLoaded', function() {
            showExerciseDemo();
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>Rep Counter</h1>
        <form action="/video_feed" method="post" onchange="showExerciseDemo()">
            <label for="exercise">Select Exercise:</label>
            <select id="exercise" name="exercise">
                <option value="pushups">Push-ups</option>
                <option value="squats">Squats</option>
                <option value="lunges">Lunges</option>
            </select>
            <br><br>
            <input type="submit" class="start-btn" value="Start">
        </form>
        <div class="video-container">
            <video id="pushups-video" class="demo-video" src="{{ url_for('static', filename='pushups_demo.mp4') }}" controls></video>
            <video id="squats-video" class="demo-video" src="{{ url_for('static', filename='squats_demo.mp4') }}" controls></video>
            <video id="lunges-video" class="demo-video" src="{{ url_for('static', filename='lunges_demo.mp4') }}" controls></video>
        </div>
        <img src="{{ url_for('video_feed') }}" alt="Exercise Feed">
    </div>
</body>
</html>
